<?hh

class jump_config {
    const BASEURL = "https://jump.wtf/"; /* prefix of generated links */
    const FILE_HOST = "https://some-cloudfront-domain.cloudfront.net/"; /* CNAME for the cloudfront distribution backing the public S3 bucket */

    const UBASEDIR = "/var/tmp/some/directory"; /* directory where uploads are moved temporarily */

    const MAX_CLICKS = 1000; /* maximum expiration clicks */
    const MAX_URL_LEN = 128; /* maximum URL length */
    const MAX_PASS_LEN = 20; /* maximum password length */

    const CDN_HOST = "f.jump.wtf/static"; /* Where clients should download HTML resources from */

    const MAX_FILE_SIZE = 1024*1024*128; // 128 MiB
    const MAX_LOCAL_FILE_SIZE = 1024*1024*16; // 16 MiB
    const MAX_EXT_LENGTH = 16;

    static function cdn_host(){
        if(substr($_SERVER['SERVER_NAME'], -strlen('.onion')) === '.onion'){
            return jump_config::H_CDN_HOST;
        } else {
            return jump_config::CDN_HOST;
        }
    }

    static function base_url(){
        if(substr($_SERVER['SERVER_NAME'], -strlen('.onion')) === '.onion'){
            return jump_config::H_BASEURL;
        } else {
            return jump_config::BASEURL;
        }
    }
}
